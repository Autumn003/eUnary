{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "featured-globe",
  "type": "registry:ui",
  "title": "Featured Globe",
  "author": "Hemant Sharma <hemant.develop@gmail.com>",
  "description": "Interactive 3D globe with scroll-triggered text animations.",
  "dependencies": [
    "class-variance-authority",
    "motion",
    "clsx",
    "tailwind-merge",
    "cobe",
    "react-spring",
    "@tsparticles/react",
    "@tsparticles/engine",
    "@tsparticles/slim"
  ],
  "files": [
    {
      "path": "../docs/components/ui/featured-globe.tsx",
      "content": "'use client';\r\n\r\nimport { useEffect, useRef } from 'react';\r\nimport createGlobe from 'cobe';\r\nimport { useSpring } from 'react-spring';\r\nimport { Sparkles } from './sparkles';\r\nimport {\r\n    motion,\r\n    useScroll,\r\n    useTransform,\r\n    useMotionTemplate,\r\n} from 'motion/react';\r\nimport { cn } from '@/lib/utils';\r\n\r\ninterface props {\r\n    globeClassName?: string;\r\n    containerClassName?: string;\r\n    textClassName?: string;\r\n    text?: string;\r\n    textSize?: 'xl' | 'lg' | 'md' | 'sm';\r\n    globeSize?: number;\r\n    globeRotateDirection?: 'left' | 'right';\r\n}\r\n\r\nexport const FeaturedGlobe = ({\r\n    globeClassName,\r\n    containerClassName,\r\n    textClassName,\r\n    text = 'EUNARY UI',\r\n    textSize = 'md',\r\n    globeSize = 500,\r\n    globeRotateDirection = 'right',\r\n}: props) => {\r\n    const containerRef = useRef<HTMLDivElement>(null);\r\n    const { scrollYProgress } = useScroll({\r\n        target: containerRef,\r\n        offset: ['start end', 'end center'],\r\n    });\r\n\r\n    const textY = useTransform(\r\n        scrollYProgress,\r\n        [0, 0.25, 0.5, 0.75],\r\n        [300, 100, 0, -100]\r\n    );\r\n    const textOpacity = useTransform(\r\n        scrollYProgress,\r\n        [0, 0.25, 0.5, 0.75],\r\n        [0, 0, 0.5, 1]\r\n    );\r\n    const textScale = useTransform(\r\n        scrollYProgress,\r\n        [0, 0.25, 0.5, 0.75],\r\n        [0.8, 0.85, 0.9, 1]\r\n    );\r\n    const textBlur = useTransform(\r\n        scrollYProgress,\r\n        [0, 0.2, 0.4, 0.6],\r\n        [9, 6, 3, 0]\r\n    );\r\n\r\n    const getTextSizeClasses = () => {\r\n        switch (textSize) {\r\n            case 'sm':\r\n                return 'text-4xl sm:text-5xl md:text-6xl lg:text-7xl';\r\n            case 'md':\r\n                return 'text-5xl sm:text-6xl md:text-7xl lg:text-8xl';\r\n            case 'lg':\r\n                return 'text-6xl sm:text-7xl md:text-8xl lg:text-9xl';\r\n            case 'xl':\r\n            default:\r\n                return 'text-6xl sm:text-7xl md:text-8xl lg:text-9xl xl:text-[10rem]';\r\n        }\r\n    };\r\n    const textSizeClasses = getTextSizeClasses();\r\n\r\n    return (\r\n        <div className=\"relative h-full w-full\">\r\n            <div\r\n                ref={containerRef}\r\n                className={cn(\r\n                    'sticky flex min-h-[30rem] w-full items-center justify-center overflow-hidden',\r\n                    containerClassName\r\n                )}\r\n            >\r\n                {/* Globe Component */}\r\n                <div className=\"absolute -bottom-48 z-20 flex aspect-[1] items-center justify-center\">\r\n                    <Globe\r\n                        globeSize={globeSize}\r\n                        globeClassName={globeClassName}\r\n                        globeRotateDirection={globeRotateDirection}\r\n                    />\r\n                </div>\r\n\r\n                {/* Animated Text */}\r\n                <motion.div\r\n                    style={{\r\n                        y: textY,\r\n                        opacity: textOpacity,\r\n                        scale: textScale,\r\n                        filter: useMotionTemplate`blur(${textBlur}px)`,\r\n                    }}\r\n                    className=\"absolute z-10 flex items-center justify-center text-nowrap\"\r\n                >\r\n                    <div\r\n                        className={cn(\r\n                            'bg-gradient-to-b from-white to-gray-600 bg-clip-text text-center font-bold text-transparent',\r\n                            textSizeClasses,\r\n                            textClassName\r\n                        )}\r\n                    >\r\n                        {text}\r\n                    </div>\r\n                </motion.div>\r\n\r\n                {/* Background Sparkles */}\r\n                <Sparkles\r\n                    background=\"transparent\"\r\n                    minSize={0.4}\r\n                    maxSize={1}\r\n                    particleDensity={50}\r\n                    className=\"z-0 h-full w-full\"\r\n                    particleColor=\"#ffffff\"\r\n                    speed={2}\r\n                />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst Globe = ({\r\n    globeClassName,\r\n    globeSize,\r\n    globeRotateDirection,\r\n}: {\r\n    globeClassName?: string;\r\n    globeSize: number;\r\n    globeRotateDirection?: 'left' | 'right';\r\n}) => {\r\n    const canvasRef = useRef<HTMLCanvasElement>(null);\r\n    const pointerInteracting = useRef<number | null>(null);\r\n    const pointerInteractionMovement = useRef(0);\r\n\r\n    const [{ r }, api] = useSpring(() => ({\r\n        r: 0,\r\n        config: {\r\n            mass: 1,\r\n            tension: 280,\r\n            friction: 40,\r\n            precision: 0.001,\r\n        },\r\n    }));\r\n\r\n    useEffect(() => {\r\n        let phi = 0;\r\n        const width: number = globeSize;\r\n        if (!canvasRef.current) return;\r\n\r\n        const globe = createGlobe(canvasRef.current, {\r\n            devicePixelRatio: 2,\r\n            width: width * 2,\r\n            height: width * 2,\r\n            phi: 0,\r\n            theta: 0.3,\r\n            dark: 1,\r\n            diffuse: 3,\r\n            mapSamples: 16000,\r\n            mapBrightness: 1.2,\r\n            baseColor: [1, 1, 1],\r\n            markerColor: [40 / 255, 100 / 255, 215 / 255],\r\n            glowColor: [255 / 255, 255 / 255, 255 / 255],\r\n            markers: [\r\n                {\r\n                    location: [28.61402, 77.22955], // Delhi\r\n                    size: 0.1,\r\n                },\r\n                {\r\n                    location: [40.75833, -73.99167], // New York\r\n                    size: 0.2,\r\n                },\r\n                {\r\n                    location: [22.575, 88.325], // Kolkata\r\n                    size: 0.05,\r\n                },\r\n                {\r\n                    location: [25.18333, 55.26667], // Dubai\r\n                    size: 0.05,\r\n                },\r\n            ],\r\n\r\n            onRender: (state) => {\r\n                // This prevents rotation while dragging\r\n                if (!pointerInteracting.current) {\r\n                    // Called on every animation frame.\r\n                    // `state` will be an empty object, return updated params.\r\n\r\n                    globeRotateDirection === 'left'\r\n                        ? (phi -= 0.005)\r\n                        : (phi += 0.005);\r\n                }\r\n                state.phi = phi + r.get();\r\n                state.width = width * 2;\r\n                state.height = width * 2;\r\n            },\r\n        });\r\n        setTimeout(\r\n            () => canvasRef.current && (canvasRef.current.style.opacity = '1')\r\n        );\r\n\r\n        return () => {\r\n            globe.destroy();\r\n        };\r\n    }, []);\r\n\r\n    return (\r\n        <div\r\n            className={cn('rounded-full', globeClassName)}\r\n            style={{\r\n                width: 500,\r\n                height: 500,\r\n                maxWidth: 600,\r\n                aspectRatio: 1,\r\n                margin: 'auto',\r\n                position: 'relative',\r\n            }}\r\n        >\r\n            <canvas\r\n                ref={canvasRef}\r\n                onPointerDown={(e) => {\r\n                    pointerInteracting.current =\r\n                        e.clientX - pointerInteractionMovement.current;\r\n                    canvasRef.current &&\r\n                        (canvasRef.current.style.cursor = 'grabbing');\r\n                }}\r\n                onPointerUp={() => {\r\n                    pointerInteracting.current = null;\r\n                    canvasRef.current &&\r\n                        (canvasRef.current.style.cursor = 'grab');\r\n                }}\r\n                onPointerOut={() => {\r\n                    pointerInteracting.current = null;\r\n                    canvasRef.current &&\r\n                        (canvasRef.current.style.cursor = 'grab');\r\n                }}\r\n                onMouseMove={(e) => {\r\n                    if (pointerInteracting.current !== null) {\r\n                        const delta = e.clientX - pointerInteracting.current;\r\n                        pointerInteractionMovement.current = delta;\r\n                        api.start({\r\n                            r: delta / 200,\r\n                        });\r\n                    }\r\n                }}\r\n                onTouchMove={(e) => {\r\n                    if (pointerInteracting.current !== null && e.touches[0]) {\r\n                        const delta =\r\n                            e.touches[0].clientX - pointerInteracting.current;\r\n                        pointerInteractionMovement.current = delta;\r\n                        api.start({\r\n                            r: delta / 100,\r\n                        });\r\n                    }\r\n                }}\r\n                style={{\r\n                    width: '100%',\r\n                    height: '100%',\r\n                    cursor: 'grab',\r\n                    contain: 'layout paint size',\r\n                    opacity: 0,\r\n                    transition: 'opacity 1s ease',\r\n                }}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n",
      "type": "registry:ui",
      "target": "components/ui/featured-globe.tsx"
    },
    {
      "path": "../docs/components/ui/sparkles.tsx",
      "content": "'use client';\r\n\r\nimport { useEffect, useId, useState } from 'react';\r\nimport Particles, { initParticlesEngine } from '@tsparticles/react';\r\nimport { type Container, type ISourceOptions } from '@tsparticles/engine';\r\nimport { loadSlim } from '@tsparticles/slim';\r\nimport { cn } from '@/lib/utils';\r\nimport { motion, useAnimation } from 'motion/react';\r\n\r\ntype ParticlesProps = {\r\n    className?: string;\r\n    background?: string;\r\n    particleSize?: number;\r\n    minSize?: number;\r\n    maxSize?: number;\r\n    speed?: number;\r\n    particleColor?: string;\r\n    particleDensity?: number;\r\n    id?: any;\r\n};\r\n\r\nexport const Sparkles = ({\r\n    className,\r\n    background,\r\n    minSize,\r\n    maxSize,\r\n    speed,\r\n    particleColor,\r\n    particleDensity,\r\n    id,\r\n}: ParticlesProps) => {\r\n    const [init, setInit] = useState(false);\r\n\r\n    const generatedId = useId();\r\n\r\n    useEffect(() => {\r\n        initParticlesEngine(async (engine) => {\r\n            await loadSlim(engine);\r\n        }).then(() => {\r\n            setInit(true);\r\n        });\r\n    }, []);\r\n\r\n    const fadeInControls = useAnimation();\r\n\r\n    const particlesLoaded = async (container?: Container): Promise<void> => {\r\n        container &&\r\n            fadeInControls.start({\r\n                opacity: 1,\r\n                transition: { duration: 1 },\r\n            });\r\n    };\r\n\r\n    const options: ISourceOptions = {\r\n        background: {\r\n            color: {\r\n                value: background || '#0d47a1',\r\n            },\r\n        },\r\n        fullScreen: {\r\n            enable: false,\r\n            zIndex: 1,\r\n        },\r\n\r\n        particles: {\r\n            color: {\r\n                value: particleColor || '#ffffff',\r\n            },\r\n            move: {\r\n                angle: {\r\n                    offset: 0,\r\n                    value: 90,\r\n                },\r\n                center: {\r\n                    x: 50,\r\n                    y: 50,\r\n                    mode: 'percent',\r\n                    radius: 0,\r\n                },\r\n                enable: true,\r\n                random: false,\r\n                size: false,\r\n                speed: {\r\n                    min: 0.1,\r\n                    max: 1,\r\n                },\r\n            },\r\n            number: {\r\n                density: {\r\n                    enable: true,\r\n                    width: 400,\r\n                    height: 400,\r\n                },\r\n                limit: {\r\n                    mode: 'delete',\r\n                    value: 0,\r\n                },\r\n                value: particleDensity || 120,\r\n            },\r\n            opacity: {\r\n                value: {\r\n                    min: 0.1,\r\n                    max: 1,\r\n                },\r\n                animation: {\r\n                    enable: true,\r\n                    speed: speed || 4,\r\n                    sync: false,\r\n                    mode: 'auto',\r\n                    startValue: 'random',\r\n                    destroy: 'none',\r\n                },\r\n            },\r\n            shape: {\r\n                close: true,\r\n                fill: true,\r\n                options: {},\r\n                type: 'circle',\r\n            },\r\n            size: {\r\n                value: {\r\n                    min: minSize || 1,\r\n                    max: maxSize || 3,\r\n                },\r\n            },\r\n        },\r\n    };\r\n\r\n    if (init) {\r\n        return (\r\n            <motion.div\r\n                animate={fadeInControls}\r\n                className={cn('opacity-0', className)}\r\n            >\r\n                <Particles\r\n                    className=\"h-full w-full\"\r\n                    id={id || generatedId}\r\n                    particlesLoaded={particlesLoaded}\r\n                    options={options}\r\n                />\r\n            </motion.div>\r\n        );\r\n    }\r\n\r\n    return <></>;\r\n};\r\n",
      "type": "registry:ui",
      "target": "components/ui/sparkles.tsx"
    }
  ]
}